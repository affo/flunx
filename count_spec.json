{
  "spec": {
    "operations": [
      {
        "kind": "from",
        "id": "from0",
        "spec": {
          "bucket": "kube-infra/monthly"
        }
      },
      {
        "kind": "range",
        "id": "range1",
        "spec": {
          "start": "-10m0s",
          "stop": "now",
          "timeColumn": "_time",
          "startColumn": "_start",
          "stopColumn": "_stop"
        }
      },
      {
        "kind": "filter",
        "id": "filter2",
        "spec": {
          "fn": {
            "type": "FunctionExpression",
            "block": {
              "type": "FunctionBlock",
              "parameters": {
                "type": "FunctionParameters",
                "list": [
                  {
                    "type": "FunctionParameter",
                    "key": {
                      "type": "Identifier",
                      "name": "r"
                    }
                  }
                ],
                "pipe": null
              },
              "body": {
                "type": "LogicalExpression",
                "operator": "and",
                "left": {
                  "type": "BinaryExpression",
                  "operator": "==",
                  "left": {
                    "type": "MemberExpression",
                    "object": {
                      "type": "IdentifierExpression",
                      "name": "r"
                    },
                    "property": "_measurement"
                  },
                  "right": {
                    "type": "StringLiteral",
                    "value": "nginx"
                  }
                },
                "right": {
                  "type": "BinaryExpression",
                  "operator": "==",
                  "left": {
                    "type": "MemberExpression",
                    "object": {
                      "type": "IdentifierExpression",
                      "name": "r"
                    },
                    "property": "_field"
                  },
                  "right": {
                    "type": "StringLiteral",
                    "value": "bytes_sent"
                  }
                }
              }
            }
          }
        }
      },
      {
        "kind": "group",
        "id": "group3",
        "spec": {
          "mode": "by",
          "columns": [
            "uri"
          ]
        }
      },
      {
        "kind": "window",
        "id": "window4",
        "spec": {
          "every": "1s",
          "period": "1s",
          "start": "0001-01-01T00:00:00Z",
          "round": "0s",
          "triggering": null,
          "timeColumn": "_time",
          "stopColumn": "_stop",
          "startColumn": "_start",
          "createEmpty": false
        }
      },
      {
        "kind": "count",
        "id": "count5",
        "spec": {
          "columns": [
            "_value"
          ]
        }
      }
    ],
    "edges": [
      {
        "parent": "from0",
        "child": "range1"
      },
      {
        "parent": "range1",
        "child": "filter2"
      },
      {
        "parent": "filter2",
        "child": "group3"
      },
      {
        "parent": "group3",
        "child": "window4"
      },
      {
        "parent": "window4",
        "child": "count5"
      }
    ],
    "resources": {
      "priority": "high",
      "concurrency_quota": 0,
      "memory_bytes_quota": 0
    },
    "now": "2019-01-31T18:28:54.895971Z"
  }
}
